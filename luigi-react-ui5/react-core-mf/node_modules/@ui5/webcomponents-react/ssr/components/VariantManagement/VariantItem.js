'use client';

import { useSyncRef } from '@ui5/webcomponents-react-base';
import React, { forwardRef, useContext, useEffect } from 'react';
import { VariantManagementContext } from '../../internal/VariantManagementContext';
import { StandardListItem } from '../../webComponents/StandardListItem';
import { jsx as _jsx } from "react/jsx-runtime";
/**
 * The `VariantItem` describes a variant/view of the `VariantManagement` component.
 */
const VariantItem = /*#__PURE__*/forwardRef((props, ref) => {
  const {
    isDefault,
    author,
    favorite,
    global,
    labelReadOnly,
    applyAutomatically,
    readOnly,
    selected,
    children,
    hideDelete
  } = props;
  const {
    selectVariantItem
  } = useContext(VariantManagementContext);
  const [componentRef, consolidatedRef] = useSyncRef(ref);
  useEffect(() => {
    if (selected) {
      selectVariantItem({
        ...props,
        variantItem: consolidatedRef.current
      });
    }
  }, [selected]);

  // inputProps are passed through to input components used in the configuration dialogs
  const {
    manageViewsInputProps: _0,
    saveViewInputProps: _1,
    ...rest
  } = props;
  return /*#__PURE__*/_jsx(StandardListItem, {
    ...rest,
    ref: componentRef,
    "data-is-default": isDefault,
    "data-author": author,
    "data-favorite": favorite,
    "data-global": global,
    "data-label-read-only": labelReadOnly,
    "data-apply-automatically": applyAutomatically,
    "data-read-only": readOnly,
    "data-children": children,
    "data-hide-delete": hideDelete
  });
});
VariantItem.displayName = 'VariantItem';
export { VariantItem };